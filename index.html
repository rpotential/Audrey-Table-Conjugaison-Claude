<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <title>TableQuizz – Conjugaison</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="app">
      <header class="hero">
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <svg viewBox="0 0 64 64" role="img">
              <circle cx="32" cy="32" r="30" fill="#f7d8df"></circle>
              <path
                d="M20 34c2-6 8-10 12-10s10 4 12 10c2 6-2 12-12 12S18 40 20 34z"
                fill="#f2a9c3"
              ></path>
              <circle cx="26" cy="30" r="2.5" fill="#3d2a35"></circle>
              <circle cx="38" cy="30" r="2.5" fill="#3d2a35"></circle>
              <path
                d="M28 40c2 2 6 2 8 0"
                stroke="#3d2a35"
                stroke-width="2"
                fill="none"
                stroke-linecap="round"
              ></path>
              <path
                d="M18 22c3-6 8-8 12-8"
                stroke="#f2a9c3"
                stroke-width="3"
                stroke-linecap="round"
              ></path>
              <path
                d="M46 22c-3-6-8-8-12-8"
                stroke="#f2a9c3"
                stroke-width="3"
                stroke-linecap="round"
              ></path>
            </svg>
          </div>
          <div>
            <p class="brand-kicker">TableQuizz</p>
            <h1>Conjugaison chic</h1>
            <p class="brand-subtitle">
              Tables de conjugaison et quiz doux — French conjugation, made
              lovely.
            </p>
          </div>
        </div>
        <div class="stats-panel">
          <div class="stat">
            <span class="stat-label">Niveau / Level</span>
            <span id="level-value" class="stat-value">1</span>
          </div>
          <div class="stat">
            <span class="stat-label">XP</span>
            <span id="xp-value" class="stat-value">0</span>
          </div>
          <div class="stat">
            <span class="stat-label">Streak</span>
            <span id="streak-value" class="stat-value">0</span>
          </div>
          <div class="stat">
            <span class="stat-label">Accuracy</span>
            <span id="accuracy-value" class="stat-value">0%</span>
          </div>
        </div>
      </header>

      <nav class="tabs" aria-label="Main views">
        <button class="tab active" data-view="learn">
          Apprendre / Learn
        </button>
        <button class="tab" data-view="tables">
          Tables / Tables
        </button>
        <button class="tab" data-view="quiz">Quiz</button>
        <button class="tab" data-view="flashcards">Flashcards</button>
      </nav>

      <main>
        <!-- Learn View - Verb Groups & Tense Guide -->
        <section id="learn" class="view active">
          <!-- Verb Groups Section -->
          <div class="card intro-card">
            <h2>Les Groupes de Verbes / Verb Groups</h2>
            <p>French verbs are organized into three groups based on their infinitive endings and conjugation patterns.</p>
          </div>

          <div class="groups-container">
            <!-- 1st Group -->
            <div class="group-card group-1">
              <div class="group-header">
                <span class="group-number">1er</span>
                <div class="group-title">
                  <h3>Premier Groupe</h3>
                  <p>First Group</p>
                </div>
              </div>
              <div class="group-rule">
                <strong>Règle:</strong> Verbes en <span class="highlight">-ER</span> (sauf aller)
                <br><strong>Rule:</strong> Verbs ending in <span class="highlight">-ER</span> (except aller)
              </div>
              <div class="group-pattern">
                <strong>Pattern:</strong> Most regular, ~90% of French verbs!
              </div>
              <div class="group-verbs" id="group1-verbs"></div>
            </div>

            <!-- 2nd Group -->
            <div class="group-card group-2">
              <div class="group-header">
                <span class="group-number">2ème</span>
                <div class="group-title">
                  <h3>Deuxième Groupe</h3>
                  <p>Second Group</p>
                </div>
              </div>
              <div class="group-rule">
                <strong>Règle:</strong> Verbes en <span class="highlight">-IR</span> avec <span class="highlight">-issons</span> à nous
                <br><strong>Rule:</strong> Verbs ending in <span class="highlight">-IR</span> with <span class="highlight">-issons</span> for nous
              </div>
              <div class="group-pattern">
                <strong>Test:</strong> nous fin<em>issons</em> ✓ → 2ème groupe
              </div>
              <div class="group-verbs" id="group2-verbs"></div>
            </div>

            <!-- 3rd Group -->
            <div class="group-card group-3">
              <div class="group-header">
                <span class="group-number">3ème</span>
                <div class="group-title">
                  <h3>Troisième Groupe</h3>
                  <p>Third Group</p>
                </div>
              </div>
              <div class="group-rule">
                <strong>Règle:</strong> Tous les autres verbes (irréguliers)
                <br><strong>Rule:</strong> All other verbs (irregular)
              </div>
              <div class="group-pattern">
                <strong>Includes:</strong> -IR (sans -issons), -RE, -OIR, être, avoir, aller
              </div>
              <div class="group-verbs" id="group3-verbs"></div>
            </div>
          </div>

          <!-- Être & Avoir Special Section -->
          <div class="card special-verbs-card">
            <h2>Les Auxiliaires: Être & Avoir</h2>
            <p>These two verbs are essential! They help form compound tenses (like passé composé).</p>
            <div class="auxiliaries-grid" id="auxiliaries-grid"></div>
          </div>

          <!-- Tense Guide Section -->
          <div class="card intro-card">
            <h2>Quand utiliser chaque temps? / When to use each tense?</h2>
            <p>Understanding when to use each tense is key to speaking naturally.</p>
          </div>

          <div class="tense-guide" id="tense-guide"></div>
        </section>

        <section id="tables" class="view">
          <div class="card intro-card">
            <h2>Tables de conjugaison</h2>
            <p>
              Les temps les plus utilisés, avec un verbe exemple, les pronoms
              français et anglais. Use this as your chic reference.
            </p>
          </div>
          <div id="tables-grid" class="tables-grid"></div>
        </section>

        <!-- Quiz Section - Redesigned -->
        <section id="quiz" class="view">
          <div class="quiz-hero">
            <div class="quiz-hero-content">
              <h2>Quiz de Conjugaison</h2>
              <p>Conjugate the verb correctly. Build your streak!</p>
            </div>
            <div class="quiz-mode-selector">
              <button class="quiz-mode active" data-mode="practice">
                <span class="mode-icon">♡</span>
                <span class="mode-label">Practice</span>
                <span class="mode-desc">No pressure</span>
              </button>
              <button class="quiz-mode" data-mode="timed">
                <span class="mode-icon">⏱</span>
                <span class="mode-label">Sprint</span>
                <span class="mode-desc">60 seconds</span>
              </button>
            </div>
          </div>

          <div class="quiz-game-area">
            <div class="quiz-main-card">
              <!-- Question badges -->
              <div class="quiz-badges">
                <span class="quiz-badge tense-badge" id="tense-label">Présent</span>
                <span class="quiz-badge verb-badge" id="verb-label">parler</span>
                <span class="quiz-badge group-badge" id="group-label">1er groupe</span>
              </div>

              <!-- Main question display -->
              <div class="quiz-question">
                <div class="quiz-pronoun">
                  <span class="pronoun-main" id="pronoun-fr">je</span>
                  <span class="pronoun-hint" id="pronoun-en">(I)</span>
                </div>
                <div class="quiz-verb-infinitive" id="verb-infinitive">parler</div>
              </div>

              <!-- Answer input -->
              <div class="quiz-answer-section">
                <div class="quiz-input-wrapper">
                  <input
                    id="answer-input"
                    type="text"
                    class="quiz-input"
                    placeholder="Type conjugation..."
                    autocomplete="off"
                    autocapitalize="off"
                    spellcheck="false"
                  />
                  <button id="submit-answer" class="quiz-submit-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                  </button>
                </div>
                <div class="quiz-actions">
                  <button id="skip-question" class="quiz-action-btn">
                    Skip
                  </button>
                  <button id="hint-btn" class="quiz-action-btn">
                    Hint
                  </button>
                </div>
              </div>

              <!-- Feedback -->
              <div id="feedback" class="quiz-feedback"></div>
            </div>

            <!-- Stats sidebar -->
            <div class="quiz-stats-panel">
              <div class="stats-card">
                <div class="stat-item big">
                  <span class="stat-number" id="score-value">0</span>
                  <span class="stat-label">Score</span>
                </div>
                <div class="stat-row">
                  <div class="stat-item">
                    <span class="stat-number" id="streak-display">0</span>
                    <span class="stat-label">Streak</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-number" id="accuracy-display">—</span>
                    <span class="stat-label">Accuracy</span>
                  </div>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item small">
                  <span class="stat-label">Correct / Total</span>
                  <span class="stat-value" id="count-value">0 / 0</span>
                </div>
              </div>

              <div class="timer-card" id="timer-card">
                <div class="timer-display" id="timer">Ready</div>
              </div>

              <div class="review-card">
                <h4>À revoir</h4>
                <div id="review-list" class="quiz-review-list">
                  <p class="empty-review">No mistakes yet!</p>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Flashcards Section - Simple -->
        <section id="flashcards" class="view">
          <div class="flashcard-header">
            <h2>Flashcards</h2>
            <div class="flashcard-mode-toggle">
              <button class="mode-toggle active" data-direction="fr-to-en">FR → EN</button>
              <button class="mode-toggle" data-direction="en-to-fr">EN → FR</button>
            </div>
          </div>

          <div class="flashcard-area">
            <!-- The Card -->
            <div class="simple-card" id="simple-card">
              <div class="card-tense" id="card-tense">Présent</div>
              <div class="card-main" id="card-main">je parle</div>
              <div class="card-answer hidden" id="card-answer">I speak</div>
            </div>

            <!-- Buttons -->
            <div class="card-buttons">
              <button id="show-answer-btn" class="card-btn primary">Show Answer</button>
              <div id="result-buttons" class="result-buttons hidden">
                <button id="wrong-btn" class="card-btn wrong">Missed it</button>
                <button id="correct-btn" class="card-btn correct">Got it!</button>
              </div>
            </div>

            <!-- Stats -->
            <div class="card-stats">
              <span><strong id="fc-correct">0</strong> correct</span>
              <span><strong id="fc-total">0</strong> total</span>
              <span><strong id="fc-streak">0</strong> streak</span>
            </div>
          </div>
        </section>

      </main>

      <footer class="footer">
        Made with pink minimalism, French chic, and a soft dog heart.
      </footer>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
  </body>
</html>
